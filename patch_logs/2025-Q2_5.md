
### 2025-08-05 04:45:00 UTC
**Type**: Bug Fix
**Files Modified**: 
- `server/index.bot.ts`
- `server/bot/services/matchService.ts`

**Changes**:
- Fixed missing import for `withTransaction` function in Discord bot file
- Enhanced error logging in match completion process to aid debugging
- Added detailed logging of match ending attempts with team information
- Improved error handling during match completion process

**Purpose**: Further enhance the match completion system to ensure votes are processed reliably and provide better diagnostic information when issues occur.

**Testing**: Verified that match completion works correctly with both string and numerical team identifiers, and that multiple concurrent votes are properly handled.

**Dependencies Affected**: None


### 2025-08-05 03:30:00 UTC
**Type**: Enhancement
**Files Modified**: 
- `client/src/pages/matches.tsx`
- `server/routes.ts`

**Changes**:
- Added manual match completion functionality in the active matches page
- Implemented UI controls for administrators to force match completion by selecting the winning team
- Added server-side API endpoint to handle manual match completion requests
- Utilized existing matchService.endMatch method to ensure consistent match completion behavior
- Enhanced match card UI with team-specific styling for the manual completion buttons

**Purpose**: Enable administrators to manually select which team won and force match completion directly from the web dashboard, using the same logic as when a winner is determined through normal voting.

**Testing**: Verified that matches can be manually completed from the active matches page with proper status updates and server-side processing.

**Dependencies Affected**: None